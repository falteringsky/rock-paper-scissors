<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
    function computerPlay() {
    //   let computerResult = Math.random();
    //      if (computerResult <= 0.34) {
    //         return computerResult = "Rock";
    //         } 
    //      else if (computerResult <= 0.67) {
    //          return computerResult = "Paper";
    //         } 
    //      else {
    //          return computerResult = "Scissors";
    //         }

    let computerOptions = ['Rock', 'Paper', 'Scissors'];
    let computerChoice = computerOptions[Math.floor(Math.random()*computerOptions.length)];
     return computerChoice;
    } 

    let choice = prompt('Rock, paper or scissors?');
    function playerSelection() {
        let inputInsensitive = choice.toLowerCase();
        if (inputInsensitive == 'rock') {
            return inputInsensitive = 'Rock';
        }
        else if (inputInsensitive == 'paper') {
            return inputInsensitive = 'Paper';
        }
        else if (inputInsensitive == 'scissors') {
            return inputInsensitive = 'Scissors';
        }
        else {
            alert (wrongInput = 'Error, you must introduce: Rock, Paper or Scissors');
        }
    }

    let playerChoice = playerSelection();
    let computerChoice = computerPlay();

    function playRound(playerChoice, computerChoice) {
     while (playerChoice != 'Error, you must introduce: Rock, Paper or Scissors') {
        if (playerChoice == computerChoice) {
          return draw = 'Draw! No one wins.';
      }
      else if (playerChoice == 'Rock' && computerChoice =='Scissors') {
          return winner = 'You win! Rock beats scissors';
    }
      else if (playerChoice == 'Rock' && computerChoice =='Paper') {
        return winner = 'You lose! Paper beats rock';
      }
      else if (playerChoice == 'Paper' && computerChoice =='Rock') {
        return winner = 'You win! Paper beats rock';
      }
      else if (playerChoice == 'Paper' && computerChoice =='Scissors') {
        return winner = 'You lose! Scissors beats paper';
      }
      else if (playerChoice == 'Scissors' && computerChoice =='Paper') {
        return winner = 'You win! Scissors beats paper';
      }
      else  {
        return winner = 'You lose! Rock beats scissors';
       }
     }
    }
    // console.log(playRound(playerChoice, computerChoice));
    let outcome = playRound(playerChoice, computerChoice);
    let winCounter = 0;
    let loseCounter = 0;
    function game() {
        let result = '';
        if (outcome == 'You win! Scissors beats paper' || 'You win! Paper beats rock' || 'You win! Rock beats scissors') {
                winCounter += 1
                return result = (`${outcome}  Player score: ${winCounter} Computer score: ${loseCounter}`)

                    if (winCounter == 5) {
                    return result += '<br><br>You won the game! Reload the page to play again';
                    disableButtons()
                    }
        }
        else if (outcome == 'Draw! No one wins.') {
                return result = (`${outcome} Player score: ${winCounter} Computer score: ${loseCounter}`)
        }
        else {
                loseCounter += 1
                return result = (`${outcome} Player score: ${winCounter} Computer score: ${loseCounter}`)

                    if (loseCounter == 5) {
                    return result += `<br><br>I won the game, a computer has better odds than you! Reload the page to play again`
                    disableButtons()
                    }
        }
    }

 console.log(game());

</script>
<div id="result"></div>
</body>
</html>